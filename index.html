<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Crypto Secrets with Pickle ‚Äî Mini App</title>
  <!-- Telegram Web Apps SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root{
      --bg:#0b0e11;
      --card:#12161c;
      --text:#e7eaf7;
      --muted:#9fb0c3;
      --brand:#B1FF8C;           /* —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π –∑–µ–ª—ë–Ω—ã–π ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π */
      --accent-2:#69b7ff;
      --line:#222a36;
      --shadow:0 8px 30px rgba(0,0,0,.25);
      --radius:16px;
      --btn-h:44px;              /* –µ–¥–∏–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –∫–Ω–æ–ø–æ–∫ */
      --btn-fs:15px;             /* –µ–¥–∏–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
      --btn-pad:0 18px;          /* –µ–¥–∏–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font:15px/1.45 system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial,sans-serif;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      scroll-behavior:smooth;
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:980px; margin:0 auto; padding:18px 16px 80px}

    /* ---------- Header ---------- */
    .topbar{display:flex; align-items:center; justify-content:space-between; margin-bottom:8px}
    .brand-logo img{height:44px; object-fit:contain}

    .actions{display:flex; gap:10px; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      height:var(--btn-h); padding:var(--btn-pad);
      border:1px solid var(--line); border-radius:999px;
      font-weight:700; font-size:var(--btn-fs); line-height:1;
      cursor:pointer; transition:transform .18s ease, box-shadow .18s ease, background .18s ease, color .18s ease;
      background:#1a2230; color:var(--text);
    }
    .btn:hover{transform:translateY(-1px)}
    .btn:active{transform:translateY(0)}
    .btn.solid{background:var(--brand); color:#07110c; border-color:transparent; box-shadow:0 6px 14px rgba(177,255,140,.25)}
    .btn.ghost{background:transparent}

    /* ---------- Hero ---------- */
    .hero{
      display:grid; grid-template-columns:1.15fr .85fr; gap:18px; align-items:center;
      padding:18px; background:
        linear-gradient(180deg, rgba(177,255,140,.10), transparent 60%),
        radial-gradient(60% 80% at 80% 0%, rgba(105,183,255,.15), transparent 60%);
      border-radius:24px; box-shadow:var(--shadow);
      /* —É–±—Ä–∞–ª–∏ —Ä–∞–º–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ hero */
      border:none;
    }
    .h-title{font-size:36px; line-height:1.15; margin:8px 0 10px; font-weight:800; letter-spacing:.2px}
    .h-title em{font-style:normal; color:var(--brand); text-shadow:0 0 18px rgba(177,255,140,.35)}
    .h-sub{color:var(--muted); margin-bottom:14px}
    .hero img{
      width:100%; border-radius:18px;
      /* —É–±—Ä–∞–ª–∏ —Ä–∞–º–∫—É —É –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
      border:none;
    }
    .pill{display:inline-block; padding:6px 12px; border-radius:999px; font-weight:700;
      background:rgba(177,255,140,.15); color:var(--brand); border:1px dashed rgba(177,255,140,.45); margin-bottom:10px}
    .hero-cta{display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:6px}

    /* ---------- Features ---------- */
    .features{display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin:16px 0 8px}
    .card{background:var(--card); border:1px solid var(--line); border-radius:18px; padding:14px; box-shadow:var(--shadow)}
    .card h4{margin:6px 0 6px; font-size:16px}
    .card p{margin:0; color:var(--muted); font-size:14px}

    /* ---------- Lessons ---------- */
    .section-title{font-size:24px; font-weight:800; margin:22px 4px 12px}
    .lessons{display:grid; grid-template-columns:repeat(5,1fr); gap:10px}
    .lesson{
      background:linear-gradient(180deg,#12161c,#0f141c);
      border:1px solid var(--line); border-radius:16px; padding:10px;
      box-shadow:0 6px 18px rgba(0,0,0,.25);
      transition:transform .16s ease, box-shadow .16s ease, border-color .16s ease;
      cursor:pointer; outline:none; display:block; color:inherit;
    }
    .lesson:hover{transform:translateY(-3px); box-shadow:0 12px 26px rgba(0,0,0,.35); border-color:#2e3646}
    .lesson:active{transform:translateY(-1px) scale(.995)}
    .lesson .thumb{height:84px; border-radius:12px; overflow:hidden; border:1px solid var(--line); margin-bottom:8px}
    .lesson .thumb img{width:100%; height:100%; object-fit:cover; display:block}
    .lesson h5{margin:0 0 4px; font-size:14px}
    .lesson .meta{display:flex; align-items:center; justify-content:space-between; color:var(--muted); font-size:12px}
    .lesson .meta .arrow{font-weight:700; color:var(--brand)}

    /* ---------- Instructor & CTA ---------- */
    .two{display:grid; grid-template-columns:1fr 1fr; gap:14px; margin-top:16px}
    .cta{
      background:linear-gradient(135deg, rgba(105,183,255,.28), rgba(177,255,140,.18));
      border:1px solid var(--line); border-radius:20px; padding:16px; box-shadow:var(--shadow)
    }
    .input{
      width:100%; height:44px; padding:0 14px; border-radius:12px; border:1px solid var(--line);
      background:#0d131c; color:var(--text); outline:none; font-size:15px;
    }
    .input::placeholder{color:#708099}
    .stack{display:grid; gap:10px}
    .muted{color:var(--muted); font-size:14px}

    /* ---------- FAQ ---------- */
    .faq{margin-top:18px}
    details{background:var(--card); border:1px solid var(--line); border-radius:14px; padding:12px 14px; margin-bottom:8px}
    summary{cursor:pointer; font-weight:700}
    details p{margin:8px 0 0; color:var(--muted)}

    /* ---------- Responsive ---------- */
    @media (max-width:960px){
      .hero{grid-template-columns:1fr}
      .lessons{grid-template-columns:repeat(2,1fr)}
      .features{grid-template-columns:1fr}
      .two{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- Header -->
    <div class="topbar">
      <div class="brand-logo">
        <img src="assets/logo-changelly.png" alt="Changelly">
      </div>
      <div class="actions">
        <button id="btn-breakdown" class="btn ghost">Course breakdown</button>
        <a href="lesson1.html" class="btn solid" id="btn-start-link">Get started</a>
      </div>
    </div>

    <!-- Hero -->
    <section class="hero">
      <div>
        <span class="pill">5 lessons ¬∑ 5 minutes each</span>
        <h1 class="h-title">Crypto Secrets with <em>PICKLE</em></h1>
        <p class="h-sub">A short, fun crash course for absolute beginners. Learn crypto without the jargon, play a tiny quiz after each topic, and unlock the next lesson.</p>
        <div class="hero-cta">
          <a class="btn solid" id="cta-start" href="lesson1.html">üöÄ Start for free</a>
          <button class="btn ghost" id="cta-continue">‚ñ∂Ô∏è Continue</button>
        </div>
        <p class="muted" style="margin-top:8px">Finish the course to unlock a $100 bonus raffle (brand rules apply).</p>
      </div>
      <div>
        <img alt="Pickle hero" src="assets/hero-pickle.png" />
      </div>
    </section>

    <!-- Features -->
    <div class="features">
      <div class="card">
        <h4>Understand crypto in 25 minutes</h4>
        <p>From zero to confident on basics and next steps.</p>
      </div>
      <div class="card">
        <h4>Learn by playing</h4>
        <p>Short quizzes and unlocks keep you motivated.</p>
      </div>
      <div class="card">
        <h4>Real tools, not hype</h4>
        <p>We show safe tools and how to avoid scams.</p>
      </div>
    </div>

    <!-- Lessons -->
    <h3 class="section-title" id="breakdown">Course Breakdown</h3>
    <div class="lessons" id="lessons"></div>

    <!-- Instructor + CTA -->
    <div class="two">
      <div class="card">
        <h3 style="margin:0 0 8px">Meet your instructor ‚Äî Pickle</h3>
        <p class="muted">He‚Äôs green. He‚Äôs sour. He‚Äôs into safety. He‚Äôs guided tons of beginners through their first crypto steps without pain or jargon.</p>
        <div style="margin-top:10px">
          <img src="assets/instructor-pickle.png" alt="Instructor Pickle" style="width:100%; border-radius:12px; border:1px solid var(--line)" loading="lazy" decoding="async">
        </div>
      </div>
      <div class="cta">
        <h3 style="margin:0 0 8px">Sync your progress</h3>
        <p class="muted" style="margin-top:0">In a Telegram Mini App you‚Äôre already signed in via Telegram. Optionally leave your email to get reminders.</p>
        <div class="stack">
          <input id="email" class="input" placeholder="Your email (optional)" inputmode="email" />
          <button class="btn solid" id="btn-email">Save & start</button>
          <button class="btn ghost" id="btn-login">Sign in with Telegram</button>
        </div>
      </div>
    </div>

    <!-- FAQ -->
    <div class="faq">
      <h3 class="section-title">Any Questions?</h3>
      <details>
        <summary>Is this beginner‚Äëfriendly?</summary>
        <p>Totally. You only need Telegram. Each lesson is 3‚Äì5 minutes plus a tiny quiz.</p>
      </details>
      <details>
        <summary>Do I need to invest money during the course?</summary>
        <p>No. It‚Äôs educational. We show safe tools and steps, but you don‚Äôt have to buy anything.</p>
      </details>
      <details>
        <summary>How long does it take to finish?</summary>
        <p>About 25 minutes including quizzes.</p>
      </details>
      <details>
        <summary>Why a talking pickle?</summary>
        <p>Because crypto doesn‚Äôt have to be boring ü§∑‚Äç‚ôÇÔ∏è</p>
      </details>
    </div>
  </div>

  <script>
    // Telegram theming ‚Äî –ù–ï –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π –∑–µ–ª—ë–Ω—ã–π
    const tg = window.Telegram?.WebApp;
    if (tg) {
      tg.expand(); tg.ready();
      const tp = tg.themeParams || {};
      const root = document.documentElement;
      const set = (cssVar, value) => { if (value) root.style.setProperty(cssVar, value); };
      // –ú–æ–∂–Ω–æ –º—è–≥–∫–æ –ø–æ–¥—Å—Ç—Ä–æ–∏—Ç—å —Ñ–æ–Ω/—Ç–µ–∫—Å—Ç—ã/–∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–¥ —Ç–µ–º—É Telegram,
      // –Ω–æ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º --brand, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∏ –Ω–µ —Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å —Å–∏–Ω–∏–º–∏
      set('--bg', tp.bg_color);
      set('--text', tp.text_color);
      set('--card', tp.secondary_bg_color);
      set('--line', tp.section_separator_color);
      // –ù–ï –¥–µ–ª–∞–µ–º: set('--brand', tp.button_color);
    }

    // Header "Course breakdown" ‚Üí scroll to section
    document.getElementById('btn-breakdown').onclick = () => {
      document.getElementById('breakdown').scrollIntoView({behavior:'smooth', block:'start'});
    };

    // Continue ‚Üí –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —É—Ä–æ–∫—É (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å)
    document.getElementById('cta-continue').onclick = () => {
      const last = localStorage.getItem('pickle_progress') || 'l1';
      const map = { l1:'lesson1.html', l2:'lesson2.html', l3:'lesson3.html', l4:'lesson4.html', l5:'lesson5.html' };
      location.href = map[last] || 'lesson1.html';
    };

    // Email save ‚Üí —Å—Ç–∞—Ä—Ç
    document.getElementById('btn-email').onclick = () => {
      const v = document.getElementById('email').value.trim();
      if (!v) { location.href = 'lesson1.html'; return; }
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v)) { alert('Looks like an invalid email'); return; }
      localStorage.setItem('pickle_email', v);
      if (tg) tg.HapticFeedback?.notificationOccurred('success');
      location.href = 'lesson1.html';
    };

    // Login info
    document.getElementById('btn-login').onclick = () => {
      if (tg) {
        const name = tg.initDataUnsafe?.user?.first_name || 'friend';
        tg.showAlert(`Hi, ${name}! Your progress will be synced.`);
      } else {
        alert('In a browser we simulate sign‚Äëin. Inside Telegram your account is used automatically.');
      }
    };

    // Lessons list: –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å ‚Üí, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
    const lessons = [
      { id:'l1', title:'Why you‚Äôre still early (and what to do about it)', mins:5, img:'assets/lesson-1.png', url:'lesson1.html' },
      { id:'l2', title:'How to spot a gem before it 10√ó‚Äôs', mins:5, img:'assets/lesson-2.png', url:'lesson2.html' },
      { id:'l3', title:'The wallet mistakes that could cost you everything', mins:5, img:'assets/lesson-3.png', url:'lesson3.html' },
      { id:'l4', title:'Buy, hold, or run? Reading the market without the jargon', mins:5, img:'assets/lesson-4.png', url:'lesson4.html' },
      { id:'l5', title:'$100 into crypto: your first portfolio, no BS', mins:5, img:'assets/lesson-5.png', url:'lesson5.html' },
    ];
    const $list = document.querySelector('#lessons');
    lessons.forEach(l=>{
      const card = document.createElement('a');
      card.className = 'lesson';
      card.href = l.url;
      card.dataset.id = l.id;
      card.innerHTML = `
        <div class="thumb"><img src="${l.img}" alt="${l.title}" loading="lazy" decoding="async"></div>
        <h5>${l.title}</h5>
        <div class="meta"><span>${l.mins} min</span><span class="arrow">‚Üí</span></div>`;
      $list.appendChild(card);
    });
    $list.addEventListener('click', (e)=>{
      const a = e.target.closest('.lesson');
      if (!a) return;
      localStorage.setItem('pickle_progress', a.dataset.id);
    });
  </script>
</body>
</html>
